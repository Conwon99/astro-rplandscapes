---
import Layout from '../../layouts/Layout.astro';
import Navigation from '../../components/Navigation';
import PageHero from '../../components/PageHero';
import ServiceDetail from '../../components/ServiceDetail';
import Footer from '../../components/Footer';
import { getServiceBySlug } from '../../utils/serviceData';

const service = getServiceBySlug('decking');
const title = service ? `${service.title} Glasgow & Ayrshire | Professional Decking Services | RP Build and Landscapes` : "Decking Glasgow & Ayrshire | RP Build and Landscapes";
const description = service ? `Professional ${service.title.toLowerCase()} installation in Glasgow & Ayrshire. Composite decking, wooden decking, custom designs, professional installation. Free quotes. Call 07305 967999.` : "Professional decking installation in Glasgow & Ayrshire. Free quotes. Call 07305 967999.";
const canonical = service ? `https://rpbuildandlandscapes.netlify.app/services/${service.slug}` : "https://rpbuildandlandscapes.netlify.app/services/decking";
---

<Layout title={title} description={description} canonical={canonical}>
  <main class="min-h-screen">
    <Navigation client:only="react" />
    {service && (
      <>
        <PageHero 
          client:load 
          backgroundImage={service.image}
          title={service.title}
          description={service.description}
          showContactButtons={false}
        />
        <div class="pt-16">
          <ServiceDetail client:load service={service} />
          <Footer client:load />
        </div>
      </>
    )}
  </main>
</Layout>

<script>
  import { trackPageView } from '@/utils/analytics';
  import { initPhoneTracking } from '@/utils/phoneTracking';
  if (typeof window !== 'undefined') {
    trackPageView(window.location.pathname, document.title);
    initPhoneTracking();
  }
</script>



